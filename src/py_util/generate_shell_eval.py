
config_file_name = "Bert_BiLSTMAttn"
file_prefix = config_file_name.replace("_", "")
data_folder = "simple_domain" #"hold1topic_out" or "simple_domain"
out_path = "./sh_auto_eval_sd_all.sh"

if data_folder == "simple_domain":
    base_text = """
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_ig_{file_prefix}_v{k}.txt

python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_ig_{file_prefix}_v{k}.txt

python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_ig_{file_prefix}_v{k}.txt

python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_ig_{file_prefix}_v{k}.txt

python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_ig_{file_prefix}_v{k}.txt

python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_ig_{file_prefix}_v{k}.txt
"""
else:
    base_text = """
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_bo_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_bo-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_bo_valid.csv > ../../out/ustancebr/eval/{data_folder}/bo_bo_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_lu_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_lu-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_lu_valid.csv > ../../out/ustancebr/eval/{data_folder}/lu_lu_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_co_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_co-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_co_valid.csv > ../../out/ustancebr/eval/{data_folder}/co_co_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_cl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_cl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_cl_valid.csv > ../../out/ustancebr/eval/{data_folder}/cl_cl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_gl_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_gl-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_gl_valid.csv > ../../out/ustancebr/eval/{data_folder}/gl_gl_{file_prefix}_v{k}.txt
python train_model.py -m eval -c ../../config/{data_folder}/{config_file_name}_v{k}.txt -p ../../data/ustancebr/v2/{data_folder}/final_ig_test.csv -f ../../checkpoints/ustancebr/{data_folder}/V{k}/ckp-{file_prefix}_ustancebr_ig-BEST.tar -v ../../data/ustancebr/v2/{data_folder}/final_ig_valid.csv > ../../out/ustancebr/eval/{data_folder}/ig_ig_{file_prefix}_v{k}.txt
"""

with open(out_path, "w") as f_:
    print("\n", file=f_)

for k in range(1,65):
    partial_text = base_text \
    .replace("{config_file_name}", config_file_name) \
    .replace("{file_prefix}", file_prefix) \
    .replace("{k}", str(k)) \
    .replace("{data_folder}", data_folder) \

    with open(out_path, "a") as f_:
        print(partial_text, "\n", file=f_)
    
with open(out_path, "a") as f_:
    print("\n", file=f_, flush=True)
    

